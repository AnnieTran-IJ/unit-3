#beige background color: 1, 0.9608, 0.9412, 1
#dark blue: 0.0941, 0.1176, 0.2980, 1
#pinkish red: 0.831, 0.008, 0.255, 1
MDScreen:
    ScreenManager:
        id: scr_manager
        HomeScreen:
            name: "HomeScreen"
        ViewOrderScreen:
            name: "ViewOrderScreen"
        PersonalInfoScreen:
            name: "PersonalInfoScreen"
        LogInScreen:
            name: "LogInScreen"
        SignInSecretScreen:
            name: "SignInSecretScreen"
        AdminScreen:
            name: "AdminScreen"

<HomeScreen>:
    MDBoxLayout:
        md_bg_color: 1, 0.9608, 0.9412, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(45)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: root.on_logo_click()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None  
                width: self.minimum_width  
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}  # Centers the box layout

                Image:
                    source: "logo.png"
                    size_hint: None, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True

        # Heading
        MDLabel:
            text: "Welcome to SugarBliss!"
            font_name: "Poppins-BoldItalic"
            font_size: 26
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0.0941, 0.1176, 0.2980, 1
            size_hint_y: None
            height: dp(40)
            padding: dp(20), dp(40), dp(20), dp(20)

        # Product List
        ScrollView:
            MDBoxLayout:
                id: product_list_container
                orientation: "vertical"
                spacing: dp(10)
                adaptive_height: True

                # Example product card
                MDCard:
                    orientation: "vertical"
                    size_hint: 1, None
                    height: dp(120)
                    padding: dp(20)
                    radius: [dp(12), ]
                    theme_text_color: "Custom"


                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(50)
                        # Dish Name
                        MDLabel:
                            text: "Ice Cream"
                            font_name: "Poppins-Medium"
                            font_size: 23
                            halign: "left"
                            valign: "center"

                        # Dropdown for Flavors
                        MDDropDownItem:
                            id: flavor_dropdown_1
                            text: "Select Flavor"
                            font_name: "Poppins-Medium"
                            size_hint: None, None
                            size: dp(150), dp(40)
                            pos_hint: {"center_y": 0.5}
                            on_release: root.create_flavor_menu(self, "Ice Cream")

                    # Price and Quantity
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(30)

                        # Price
                        MDLabel:
                            text: "$5"
                            font_name: "Poppins-Regular"
                            halign: "left"
                            valign: "center"

                # Example product card
                MDCard:
                    orientation: "vertical"
                    size_hint: 1, None
                    height: dp(120)
                    padding: dp(20)
                    radius: [dp(12), ]
                    theme_text_color: "Custom"
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(50)
                        # Dish Name
                        MDLabel:
                            text: "Rainbow Sorbet"
                            font_name: "Poppins-Medium"
                            font_size: 23
                            halign: "left"
                            valign: "center"

                        # Dropdown for Flavors
                        MDDropDownItem:
                            id: flavor_dropdown_2
                            text: "Select Flavor"
                            font_name: "Poppins-Medium"
                            size_hint: None, None
                            size: dp(150), dp(40)
                            pos_hint: {"center_y": 0.5}
                            on_release: root.create_flavor_menu(self, "Rainbow Sorbet")

                    # Price and Quantity
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(30)

                        # Price
                        MDLabel:
                            text: "$3"
                            font_name: "Poppins-Regular"
                            halign: "left"
                            valign: "center"

                # Example product card
                MDCard:
                    orientation: "vertical"
                    size_hint: 1, None
                    height: dp(120)
                    padding: dp(20)
                    radius: [dp(12), ]
                    theme_text_color: "Custom"


                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(50)
                        # Dish Name
                        MDLabel:
                            text: "Fruit Tart"
                            font_name: "Poppins-Medium"
                            font_size: 23
                            halign: "left"
                            valign: "center"

                        # Dropdown for Flavors
                        MDDropDownItem:
                            id: flavor_dropdown_3
                            text: "Select Flavor"
                            font_name: "Poppins-Medium"
                            size_hint: None, None
                            size: dp(150), dp(40)
                            pos_hint: {"center_y": 0.5}
                            on_release: root.create_flavor_menu(self, "Fruit Tart")

                    # Price and Quantity
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(30)

                        # Price
                        MDLabel:
                            text: "$6"
                            font_name: "Poppins-Regular"
                            halign: "left"
                            valign: "center"

            # Example product card
                MDCard:
                    orientation: "vertical"
                    size_hint: 1, None
                    height: dp(120)
                    padding: dp(20)
                    radius: [dp(12), ]
                    theme_text_color: "Custom"
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(50)
                        # Dish Name
                        MDLabel:
                            text: "Mousse Cake"
                            font_name: "Poppins-Medium"
                            font_size: 23
                            halign: "left"
                            valign: "center"

                        # Dropdown for Flavors
                        MDDropDownItem:
                            id: flavor_dropdown_4
                            text: "Select Flavor"
                            font_name: "Poppins-Medium"
                            size_hint: None, None
                            size: dp(150), dp(40)
                            pos_hint: {"center_y": 0.5}
                            on_release: root.create_flavor_menu(self, "Mousse Cake")

                    # Price and Quantity
                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: dp(10)
                        size_hint_y: None
                        height: dp(30)

                        # Price
                        MDLabel:
                            text: "$25"
                            font_name: "Poppins-Regular"
                            halign: "left"
                            valign: "center"

        # Bottom Navigation Bar with Buttons
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(56)
            spacing: dp(10)
            padding: dp(16)

            # View Order Button
            MDRaisedButton:
                size_hint_x: 0.5
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                on_release: root.add_to_saved_order()
                MDLabel:
                    text: "View Order"
                    halign: "center"
                    valign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Regular"
                    font_size: 17

            # Add to Cart Button
            MDRaisedButton:
                size_hint_x: 0.5
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                on_release: root.add_to_cart()
                MDLabel:
                    text: "Add to Cart"
                    halign: "center"
                    valign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Regular"
                    font_size: 17

<ViewOrderScreen>:
    MDBoxLayout:
        md_bg_color: 1, 0.9608, 0.9412, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(45)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: app.switch_to_home()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}  # Centers the box layout

                Image:
                    source: "logo.png"
                    size_hint: None, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True

        # Heading
        MDLabel:
            text: "Your Order"
            font_name: "Poppins-BoldItalic"
            font_size: 30
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0.0941, 0.1176, 0.2980, 1
            size_hint_y: None
            height: dp(40)
            padding: dp(20), dp(40), dp(20), dp(20)
        # Receipt Layout
        ScrollView:
            MDBoxLayout:
                id: product_list_container
                orientation: "vertical"
                spacing: dp(10)
                size_hint_y: None
                height: self.minimum_height
#                font_name= "Poppins-Regular",
#                font_size= 17
                padding: dp(10), dp(10), dp(10), dp(20)

        # Line Break
        MDSeparator:
            height: dp(1)
            color: 0.831, 0.008, 0.255, 1

        # Total Sum
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(40)
            padding: dp(16)

            MDLabel:
                text: "Total:"
                halign: "left"
                font_name: "Poppins-SemiBold"
                font_size: 17

            MDLabel:
                id: total_price
                text: "$0.00"
                halign: "right"
                font_name: "Poppins-SemiBold"
                font_size: 17

    # Bottom Navigation Bar with Buttons
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(56)
            spacing: dp(10)
            padding: dp(16)

            # Back Button
            MDRaisedButton:
                size_hint_x: 0.2
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                text_color: 1, 1, 1, 1
                on_release: app.switch_to_home()

                MDBoxLayout:
                    orientation: "horizontal"
                    adaptive_width: True
                    spacing: dp(5)
                    pos_hint: {"center_y": 0.5}

                    MDIcon:
                        icon: "arrow-left"
                        size_hint: None, None
                        size: dp(20), dp(20)  # Adjust the size of the icon
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1

            # Proceed Button
            MDRaisedButton:
                size_hint_x: 0.8
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                text_color: 1, 1, 1, 1
                on_release: app.switch_to_personal_info()

                MDBoxLayout:
                    orientation: "horizontal"
                    adaptive_width: True
                    spacing: dp(5)
                    pos_hint: {"center_y": 0.5}


                    MDLabel:
                        text: "Proceed"
                        halign: "center"
                        valign: "center"
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1
                        font_name: "Poppins-Regular"
                        font_size: 17

<PersonalInfoScreen>:
    MDBoxLayout:
        md_bg_color: 1, 0.9608, 0.9412, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(45)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: app.switch_to_home()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}  # Centers the box layout

                Image:
                    source: "logo.png"
                    size_hint: None, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True

        # Heading
        MDLabel:
            text: "Personal Information"
            font_name: "Poppins-BoldItalic"
            font_size: 30
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0.0941, 0.1176, 0.2980, 1
            size_hint_y: None
            height: dp(40)
            padding: dp(20), dp(40), dp(20), dp(20)

        # ScrollView for Address List
        ScrollView:
            MDGridLayout:
                id: address_grid
                cols: 1
                adaptive_height: True
                spacing: dp(18)
                padding: dp(10)
        #lower nav bar
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(56)
            spacing: dp(18)
            padding: dp(16)
            # Add to Cart Button
            MDRaisedButton:
                size_hint_x: 0.5
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                on_release: root.confirm_information()
                MDLabel:
                    text: "Confirm"
                    halign: "center"
                    valign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Regular"
                    font_size: 17

            MDRaisedButton:
                size_hint_x: 0.5
                md_bg_color: 0.0941, 0.1176, 0.2980, 1
                on_release: app.switch_to_login()
                MDLabel:
                    text: "Add New"
                    halign: "center"
                    valign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Regular"
                    font_size: 17

<LogInScreen>:
    MDBoxLayout:
        md_bg_color: 1, 0.9608, 0.9412, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(45)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: app.switch_to_home()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}  # Centers the box layout

                Image:
                    source: "logo.png"
                    size_hint: None, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True

        # Heading
        MDLabel:
            text: "User Registration"
            font_name: "Poppins-BoldItalic"
            font_size: 30
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0.0941, 0.1176, 0.2980, 1
            size_hint_y: None
            height: dp(40)
            padding: dp(20), dp(40), dp(20), dp(20)

        MDBoxLayout:
            orientation: "vertical"
            padding: dp(40)
            spacing: dp(20)
            # Username input field
            MDTextField:
                id: username_field
                hint_text: "Name"
                size_hint_y: None
                height: dp(40)
                required: True
                pos_hint: {"center_x": 0.5}
                background_color: 0.0941, 0.1176, 0.2980, 1
                icon_right: "account"
                icon_right_color: 1, 1, 1, 1
                font_name: "Poppins-Regular"
                font_size: 17



            MDTextField:
                id: phoneno_field
                hint_text: "Phone Number"
                size_hint_y: None
                height: dp(40)
                required: True
                pos_hint: {"center_x": 0.5}
                background_color: 0.0941, 0.1176, 0.2980, 1
                icon_right: "phone"
                icon_right_color: 1, 1, 1, 1
                font_name: "Poppins-Regular"
                font_size: 17

            # Address input field
            MDTextField:
                id: address_field
                hint_text: "Address"
                size_hint_y: None
                height: dp(40)
                required: True
                pos_hint: {"center_x": 0.5}
                background_color: 0.0941, 0.1176, 0.2980, 1
                icon_right: "home"
                icon_right_color: 1, 1, 1, 1
                font_name: "Poppins-Regular"
                font_size: 17

            MDRaisedButton:
                size_hint_x: 0.5
                md_bg_color: 0.827, 0.007, 0.082, 1
                height: dp(30)
                width: dp(150)
                pos_hint: {"center_x": 0.5}
                on_release: root.validate_login()
                MDLabel:
                    text: "Save"
                    halign: "center"
                    valign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Regular"
                    font_size: 17

<SignInSecretScreen>:
    MDBoxLayout:
        md_bg_color: 0.0, 0.0275, 0.0392, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(100)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: app.switch_to_home()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}

                Image:
                    source: "image.png"
                    size_hint: None, None
                    size: dp(100), dp(100)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True
                    padding: dp(16), dp(16), dp(16), dp(40)

        # Display bar for entered passcode
        MDLabel:
            id: passcode_display
            text: "Enter PIN"  # Obfuscated passcode by default
            halign: "center"
            font_size: dp(40)
            size_hint_y: None
            height: dp(40)
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1  # White text
            font_name: "Poppins-SemiBold"
            font_size: 35

        # Number grid layout
        AnchorLayout:
            size_hint_y: None
            height: dp(400)

            GridLayout:
                cols: 3
                spacing: dp(25)
                size_hint: None, None
                size: self.minimum_size
                pos_hint: {"center_x": 0.5}

                MDRaisedButton:
                    text: "1"
                    on_release: root.update_passcode("1")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "2"
                    on_release: root.update_passcode("2")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "3"
                    on_release: root.update_passcode("3")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "4"
                    on_release: root.update_passcode("4")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "5"
                    on_release: root.update_passcode("5")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "6"
                    on_release: root.update_passcode("6")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "7"
                    on_release: root.update_passcode("7")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "8"
                    on_release: root.update_passcode("8")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40


                MDRaisedButton:
                    text: "9"
                    on_release: root.update_passcode("9")
                    size_hint: None, None
                    size: dp(80), dp(80)
                    md_bg_color: 0.2, 0.2, 0.2, 1
                    text_color: 1, 1, 1, 1
                    font_name: "Poppins-Bold"
                    font_size: 40

        # Confirm button
        MDRaisedButton:
            size_hint_x: 0.5
            md_bg_color: 0.827, 0.007, 0.082, 1
            height: dp(30)
            width: dp(200)
            pos_hint: {"center_x": 0.5}
            on_release: root.validate_passcode()
            MDLabel:
                text: "Confirm"
                halign: "center"
                valign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_name: "Poppins-Regular"
                font_size: 17


<AdminScreen>:
    MDBoxLayout:
        md_bg_color: 1, 0.9608, 0.9412, 1
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(10)

        # Top Navbar with Logo and Cart Icon
        MDFlatButton:
            size_hint: 1, None
            height: dp(45)
            md_bg_color: [0, 0, 0, 0]
            halign: "center"
            on_release: app.switch_to_home()

            MDBoxLayout:
                orientation: "horizontal"
                size_hint_x: None
                width: self.minimum_width
                spacing: dp(10)
                pos_hint: {"center_x": 0.5}  # Centers the box layout

                Image:
                    source: "logo.png"
                    size_hint: None, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image inside the layout
                    allow_stretch: True
                    keep_ratio: True

        # Heading
        MDLabel:
            text: "Admin Dashboard"
            font_name: "Poppins-BoldItalic"
            font_size: 30
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0.0941, 0.1176, 0.2980, 1
            size_hint_y: None
            height: dp(40)
            padding: dp(20), dp(40), dp(20), dp(20)

        # Data Table Section
        MDBoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.5
            padding: dp(16), dp(16), dp(16), dp(100)
            spacing: dp(10)

            BoxLayout:
                id: data_table_placeholder
                size_hint: 1, 1


        # Statistics Section
        MDBoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.3
            padding: dp(20)
            spacing: dp(10)

            # Statistic 1: Most Popular Product
            MDBoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(30)
                MDLabel:
                    text: "Most Popular Product:"
                    font_name: "Poppins-Regular"
                    font_size: 18
                    width: dp(150)
                MDLabel:
                    id: most_popular_label
                    text: "N/A"
                    font_name: "Poppins-Regular"
                    font_size: 18

            # Statistic 2: Total Revenue
            MDBoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(30)
                MDLabel:
                    text: "Total Revenue:"
                    font_name: "Poppins-Regular"
                    font_size: 18
                    width: dp(150)
                MDLabel:
                    id: total_revenue_label
                    text: "$0.00"
                    font_name: "Poppins-Bold"
                    font_size: 18

            # Statistic 3: Total Profit
            MDBoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(30)
                MDLabel:
                    text: "Total Profit:"
                    font_name: "Poppins-Regular"
                    font_size: 18
                    width: dp(150)
                MDLabel:
                    id: total_profit_label
                    text: "$0.00"
                    font_name: "Poppins-Bold"
                    font_size: 18






